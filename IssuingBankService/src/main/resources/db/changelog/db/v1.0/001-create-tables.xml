<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet author="ADmin (generated)" id="1753200761856-1">
        <createTable tableName="account">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="account_pkey"/>
            </column>
            <column name="account_closed_date" type="date"/>
            <column name="account_number" type="VARCHAR(50)"/>
            <column name="account_opening_date" type="date"/>
            <column name="balance" type="numeric(38, 2)"/>
            <column name="suspending_operation" type="BOOLEAN"/>
            <column name="version" type="BIGINT"/>
            <column name="account_type_id" type="BIGINT"/>
            <column name="client_id" type="BIGINT"/>
            <column name="currency_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-2">
        <createTable tableName="account_type">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="account_type_pkey"/>
            </column>
            <column name="account_type_name" type="VARCHAR(255)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-3">
        <createTable tableName="bank_setting">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="bank_setting_pkey"/>
            </column>
            <column name="current_value" type="VARCHAR(255)"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="setting" type="VARCHAR(100)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-4">
        <createTable tableName="card">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="card_pkey"/>
            </column>
            <column name="card_number" type="VARCHAR(50)"/>
            <column name="expiration_date" type="date"/>
            <column name="holder_name" type="VARCHAR(255)"/>
            <column name="received_from_processing_center_date" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="sent_to_processing_center" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="version" type="BIGINT"/>
            <column name="account_id" type="BIGINT"/>
            <column name="card_status_id" type="BIGINT"/>
            <column name="client_id" type="BIGINT"/>
            <column name="payment_system_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-5">
        <createTable tableName="card_status">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="card_status_pkey"/>
            </column>
            <column name="card_status_name" type="VARCHAR(255)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-6">
        <createTable tableName="client">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="client_pkey"/>
            </column>
            <column name="address" type="VARCHAR(255)"/>
            <column name="birth_date" type="date"/>
            <column name="document" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="first_name" type="VARCHAR(100)"/>
            <column name="last_name" type="VARCHAR(100)"/>
            <column name="middle_name" type="VARCHAR(100)"/>
            <column name="phone" type="VARCHAR(20)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-7">
        <createTable tableName="currency">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="currency_pkey"/>
            </column>
            <column name="currency_digital_code" type="VARCHAR(3)"/>
            <column name="currency_digital_code_account" type="VARCHAR(3)"/>
            <column name="currency_letter_code" type="VARCHAR(3)"/>
            <column name="currency_name" type="VARCHAR(255)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-8">
        <createTable tableName="payment_system">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="payment_system_pkey"/>
            </column>
            <column name="first_digit_bin" type="VARCHAR(1)"/>
            <column name="payment_system_name" type="VARCHAR(50)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-9">
        <createTable tableName="transaction">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="transaction_pkey"/>
            </column>
            <column name="received_from_processing_center_date" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="sent_to_processing_center" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="sum" type="numeric(38, 2)"/>
            <column name="transaction_date" type="date"/>
            <column name="transaction_name" type="VARCHAR(255)"/>
            <column name="version" type="BIGINT"/>
            <column name="account_id" type="BIGINT"/>
            <column name="transaction_type_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-10">
        <createTable tableName="transaction_type">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="transaction_type_pkey"/>
            </column>
            <column name="transaction_type_name" type="VARCHAR(255)"/>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-11">
        <createTable tableName="user_access">
            <column autoIncrement="true" name="id" startWith="3" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="user_access_pkey"/>
            </column>
            <column defaultValueBoolean="true" name="account_non_expired" type="BOOLEAN"/>
            <column defaultValueBoolean="true" name="account_non_locked" type="BOOLEAN"/>
            <column defaultValueBoolean="true" name="credentials_non_expired" type="BOOLEAN"/>
            <column defaultValueBoolean="true" name="enabled" type="BOOLEAN"/>
            <column name="full_name" type="VARCHAR(255)"/>
            <column name="user_login" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="user_password" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="user_role" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="version" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-12">
        <addUniqueConstraint columnNames="user_login" constraintName="uk_955h84jfjbjj5twjo6ykkwr5w" tableName="user_access"/>
    </changeSet>
<!--    <changeSet author="ADmin (generated)" id="1753200761856-13">-->
<!--        <createTable tableName="databasechangelog">-->
<!--            <column name="id" type="VARCHAR(255)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="author" type="VARCHAR(255)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="filename" type="VARCHAR(255)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="dateexecuted" type="TIMESTAMP WITHOUT TIME ZONE">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="orderexecuted" type="INTEGER">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="exectype" type="VARCHAR(10)">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="md5sum" type="VARCHAR(35)"/>-->
<!--            <column name="description" type="VARCHAR(255)"/>-->
<!--            <column name="comments" type="VARCHAR(255)"/>-->
<!--            <column name="tag" type="VARCHAR(255)"/>-->
<!--            <column name="liquibase" type="VARCHAR(20)"/>-->
<!--            <column name="contexts" type="VARCHAR(255)"/>-->
<!--            <column name="labels" type="VARCHAR(255)"/>-->
<!--            <column name="deployment_id" type="VARCHAR(10)"/>-->
<!--        </createTable>-->
<!--    </changeSet>-->
<!--    <changeSet author="ADmin (generated)" id="1753200761856-14">-->
<!--        <createTable tableName="databasechangeloglock">-->
<!--            <column name="id" type="INTEGER">-->
<!--                <constraints nullable="false" primaryKey="true" primaryKeyName="databasechangeloglock_pkey"/>-->
<!--            </column>-->
<!--            <column name="locked" type="BOOLEAN">-->
<!--                <constraints nullable="false"/>-->
<!--            </column>-->
<!--            <column name="lockgranted" type="TIMESTAMP WITHOUT TIME ZONE"/>-->
<!--            <column name="lockedby" type="VARCHAR(255)"/>-->
<!--        </createTable>-->
<!--    </changeSet>-->
    <changeSet author="ADmin (generated)" id="1753200761856-15">
        <addForeignKeyConstraint baseColumnNames="card_status_id" baseTableName="card" constraintName="fk2p5gau4a3w937mkdn0umd2hnf" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="card_status" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-16">
        <addForeignKeyConstraint baseColumnNames="currency_id" baseTableName="account" constraintName="fk316pn109iutn6yqoxrqp09cpc" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="currency" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-17">
        <addForeignKeyConstraint baseColumnNames="account_id" baseTableName="transaction" constraintName="fk6g20fcr3bhr6bihgy24rq1r1b" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="account" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-18">
        <addForeignKeyConstraint baseColumnNames="account_id" baseTableName="card" constraintName="fk8v67eys6tqflsm6hrdgru2phu" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="account" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-19">
        <addForeignKeyConstraint baseColumnNames="account_type_id" baseTableName="account" constraintName="fkgw84mgpacw9htdxcs2j1p7u6j" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="account_type" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-20">
        <addForeignKeyConstraint baseColumnNames="client_id" baseTableName="account" constraintName="fkkm8yb63h4ownvnlrbwnadntyn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="client" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-21">
        <addForeignKeyConstraint baseColumnNames="transaction_type_id" baseTableName="transaction" constraintName="fknl0vpl01y6vu03hkpi4xupugo" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="transaction_type" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-22">
        <addForeignKeyConstraint baseColumnNames="client_id" baseTableName="card" constraintName="fknvnei204yqg1f980ne5doh3y8" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="client" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
    <changeSet author="ADmin (generated)" id="1753200761856-23">
        <addForeignKeyConstraint baseColumnNames="payment_system_id" baseTableName="card" constraintName="fkswiybuy013ld9llrq0ooa7xse" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="payment_system" referencedTableSchemaName="issuing_bank_service" validate="true"/>
    </changeSet>
</databaseChangeLog>
